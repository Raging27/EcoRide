<div class="container mt-4">
  <div class="row justify-content-center">
    <div class="col-md-8">
      <div class="card shadow-sm">
        <div class="card-header bg-primary text-white">
          <h4 class="mb-0">Create a New Trip</h4>
        </div>
        <div class="card-body">
          <%= form_with model: @trip, local: true do |f| %>
            <!-- Vehicle Selection -->
            <div class="mb-3">
              <%= f.label :vehicle_id, "Select Vehicle", class: "form-label" %>
              <%= f.collection_select :vehicle_id, current_user.vehicles, :id, :plate_number,
                    { prompt: "Choose your vehicle" }, { class: "form-select" } %>
            </div>

            <!-- City Inputs -->
            <div class="row">
              <div class="col-md-6 mb-3">
                <%= f.label :start_city, "Start City", class: "form-label" %>
                <%= f.text_field :start_city, class: "form-control" %>
              </div>
              <div class="col-md-6 mb-3">
                <%= f.label :end_city, "End City", class: "form-label" %>
                <%= f.text_field :end_city, class: "form-control" %>
              </div>
            </div>

            <!-- Date & Time Inputs -->
            <div class="row">
              <div class="col-md-6 mb-3">
                <%= f.label :start_time, "Start Time", class: "form-label" %>
                <%= f.datetime_select :start_time, { default: Time.now + 1.day }, { class: "form-control" } %>
              </div>
              <div class="col-md-6 mb-3">
                <%= f.label :end_time, "End Time", class: "form-label" %>
                <%= f.datetime_select :end_time, { default: Time.now + 1.day + 2.hours }, { class: "form-control" } %>
              </div>
            </div>

            <!-- Price, Seats, and Status -->
            <div class="row">
              <div class="col-md-4 mb-3">
                <%= f.label :price, "Price", class: "form-label" %>
                <%= f.number_field :price, class: "form-control", step: 1 %>
              </div>
              <div class="col-md-4 mb-3">
                <%= f.label :seats_available, "Available Seats", class: "form-label" %>
                <%= f.number_field :seats_available, class: "form-control", step: 1, min: 1, max: 8 %>
              </div>
              <div class="col-md-4 mb-3">
                <%= f.label :status, "Status", class: "form-label" %>
                <%= f.text_field :status, class: "form-control", placeholder: "e.g., planned" %>
              </div>
            </div>

            <!-- Submit Button -->
            <div class="d-grid">
              <%= f.submit "Create Trip", class: "btn btn-primary btn-lg" %>
            </div>
          <% end %>
        </div>
      </div>
      <!-- Back Button -->
      <div class="text-center mt-3">
        <%= link_to "Back to Trips", trips_path, class: "btn btn-secondary" %>
      </div>
    </div>
  </div>
</div>
