<div class="container mt-4">
  <h1 class="mb-4">Mon Espace Utilisateur</h1>

  <div class="card mb-4">
    <div class="card-body">
      <h3>Bienvenue, <%= current_user.pseudo %>!</h3>
      <p><strong>Email:</strong> <%= current_user.email %></p>
      <p><strong>Crédits disponibles:</strong> <%= current_user.credits %></p>
    </div>
  </div>

  <% if current_user.role == "driver" %>
    <h2>Mes Voyages Créés</h2>
    <% if @driven_trips.any? %>
      <div class="list-group mb-4">
        <% @driven_trips.each do |trip| %>
          <%= link_to "#{trip.start_city} → #{trip.end_city} (#{trip.start_time.strftime("%d/%m/%Y %H:%M")})", trip_path(trip), class: "list-group-item list-group-item-action" %>
        <% end %>
      </div>
    <% else %>
      <p>Aucun voyage créé.</p>
    <% end %>
  <% elsif current_user.role == "passenger" %>
    <h2>Mes Voyages Réservés</h2>
    <% if @booked_trips.any? %>
      <div class="list-group mb-4">
        <% @booked_trips.each do |trip| %>
          <%= link_to "#{trip.start_city} → #{trip.end_city} (#{trip.start_time.strftime("%d/%m/%Y %H:%M")})", trip_path(trip), class: "list-group-item list-group-item-action" %>
        <% end %>
      </div>
    <% else %>
      <p>Aucun voyage réservé.</p>
    <% end %>
  <% end %>

  <%= link_to "Retour à l'accueil", root_path, class: "btn btn-secondary" %>
</div>
